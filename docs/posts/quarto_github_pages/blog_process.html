<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Iain J Gallagher">
<meta name="dcterms.date" content="2022-10-06">

<title>iaingallagher.github.io - Quarto with Github Pages</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">iaingallagher.github.io</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Quarto with Github Pages</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">news</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Iain J Gallagher </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 6, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="github-pages-with-quarto" class="level1">
<h1>Github Pages with Quarto</h1>
<p><a href="https://quarto.org/">Quarto</a> is an “open-source scientific and technical publishing system built on Pandoc”. What does that mean?</p>
<p>It means that you can use a simple text file to create documents like blogs, papers, books etc. This blog will be generated using Quarto. Quarto takes simple text files written in <a href="">markdown</a> and converts those documents into a number of different <a href="https://quarto.org/docs/output-formats/all-formats.html">formats</a>.</p>
<p>Quarto allows you to embed code written in <a href="https://www.r-project.org/">R</a>, <a href="https://www.python.org/">python</a>, <a href="https://julialang.org/">julia</a> and <a href="https://observablehq.com/@d3">Observable JS</a> into your documents and that code will be executable. This makes it easy to share code for analysis or teaching.</p>
<p>Below I’ll document how I set up this blog on <a href="https://pages.github.com/">Github pages</a> using Quarto.</p>
<section id="preliminaries" class="level2">
<h2 class="anchored" data-anchor-id="preliminaries">Preliminaries</h2>
<p>First you’ll need to have the version control sofware <a href="https://git-scm.com/">git</a> installed on your system. If you’re not familiar with git then there’s some good teaching <a href="https://www.youtube.com/playlist?list=PL4cUxeGkcC9goXbgTDQ0n_4TBzOO0ocPR">here</a>. You’ll also need an account on <a href="">Github</a>. Github provides a free service called Github pages that allows you to host a free website.</p>
<p>Once we have git &amp; Quarto installed and a Github account ready the workflow we’ll follow here is:</p>
<ul>
<li>Create a blog repository on Github</li>
<li>Copy (clone) that repository to our local computer</li>
<li>Create a blog in the local repository using Quarto</li>
<li>Create content for the blog using Quarto</li>
<li>Push the content to the online repository</li>
<li>Set Github pages to serve our blog</li>
</ul>
<p>Once we’ve done the first three steps the last three steps can be repeated as we add new blog posts.</p>
<p>I’m using either Mac OSX or linux as an operating system &amp; we’ll be using the command line (Terminal). If you want to follow the process on Windows you’ll probably need to change a few commands used to make files or change directories from Unix commands to Windows commands. The <code>git</code> and <code>quarto</code> commands will all remain the same.</p>
<p>First go to <a href="https://github.com/">Github</a>, create a free account and set up the various security options. Install <a href="https://git-scm.com/">git</a> on your computer. Install <a href="https://quarto.org/">Quarto</a> on your computer.</p>
</section>
<section id="github" class="level2">
<h2 class="anchored" data-anchor-id="github">Github</h2>
<p>On GitHub create a new repo named <code>your_github_username.github.io</code> replacing <code>your_github_username</code> with your actual Github username. Do not add a README or license file just now.</p>
<p>On your local computer change to the directory you want to use for your blog and clone the Github repo into that directory.</p>
<pre class="console"><code>cd ~/blog_directory
git clone https://github.com/THE_REPO_ADDRESS</code></pre>
<p>if you’re using https or</p>
<pre class="console"><code>cd ~/blog_directory
git clone git@github.com:THE_REPO_ADDRESS</code></pre>
<p>if you’re using ssh.</p>
<p>This will download the files on Github into the local directory. You’ll probably get a warning like:</p>
<pre class="{console}"><code>warning: You appear to have cloned an empty repository.</code></pre>
<p>That’s ok… you have cloned an empty repository!</p>
</section>
<section id="create-the-blog" class="level2">
<h2 class="anchored" data-anchor-id="create-the-blog">Create the blog</h2>
<p>There are full instructions <a href="https://quarto.org/docs/websites/website-blog.html">here</a>.</p>
<p>Change into the local repo you just cloned.</p>
<pre class="console"><code>cd ~/blog_directory/local_repo</code></pre>
<p>Create a local copy of your blog by typing:</p>
<pre class="console"><code>quarto create-project --type website:blog</code></pre>
<p>Quarto will create several files and directories required to create the blog:</p>
<ul>
<li>_quarto.yml</li>
<li>index.qmd</li>
<li>about.qmd</li>
<li>posts/</li>
<li>posts/_metadata.yml</li>
<li>styles.css</li>
</ul>
<p>Add an empty file named <code>.nojekyll</code> at the top level:</p>
<pre class="{console}"><code>touch .nojekyll</code></pre>
<p>This is required so that Github pages will serve our blog properly later. See the Github pages section <a href="https://quarto.org/docs/websites/publishing-websites.html">here</a>.</p>
<p>We also need to set the output directory in the <code>_quarto.yml</code> file so the top of the file reads:</p>
<pre class="{console}"><code>project:
  type: website
  output-dir: docs</code></pre>
<p>If you want to add twitter or github or other social media details you can make edits as required.</p>
</section>
<section id="push-blog-to-github" class="level2">
<h2 class="anchored" data-anchor-id="push-blog-to-github">Push blog to Github</h2>
<p>On the command line type <code>git status</code>. Git will show that all the files/directories created by Quarto are untracked.</p>
<p>Type <code>git add .</code> to start tracking (or stage) all these files.</p>
<p>Type <code>git commit -m "initialise blog"</code> to commit all these files to the local git repository.</p>
<p>Now we can push all these files back up to Github:</p>
<p><code>git push origin main</code></p>
<p>On the GitHub page for your repo go to Settings (top right of the page) &amp; scroll down until you see the section for GitHub pages. Click on the Source (it probably says <code>None</code>) &amp; select <code>Branch: docs</code>. Keep the <code>/root</code> part as <code>/root</code>.</p>
<p><img src="set_pages_source.png" class="img-fluid"></p>
<p>Press save. This tells GitHub Pages to look in the main branch of the project for files to serve.</p>
</section>
<section id="adding-a-content-branch" class="level2">
<h2 class="anchored" data-anchor-id="adding-a-content-branch">Adding a content branch</h2>
<p>Git allows us to create different branches for projects we are working on. At the moment we only have one branch in our blog project - the <code>main</code> branch. For adding content etc we do not want to work on the main branch; we want the main branch to be the destination for code/posts we know we want to publish.</p>
<p>On your local machine create a new branch in the repo called e.g.&nbsp;<code>adding-content</code>.</p>
<pre class="console"><code>git checkout -b adding-content</code></pre>
<p>As you create content you will create that content on the <code>adding-content</code> branch. Once you’re happy with that content you can <code>merge</code> the <code>adding-content</code> and <code>main</code> branches. That way you’re never going to ‘break’ the <code>main</code> branch (the stuff you will actually blog) with code/content that doesn’t work.</p>
</section>
<section id="adding-content" class="level2">
<h2 class="anchored" data-anchor-id="adding-content">Adding content</h2>
<p>In the directory on your local machine you should now be on the <code>adding-content</code> branch &amp; you can check that with <code>git status</code>.</p>
<p>The workflow to create content is to write in markdown and then use the tools in Quarto to render the markdown to html. If you made your blog repo as above with Quarto then Quarto will take care of adding blog posts to the index page of you blog.</p>
<p>Create new markdown file; as you’re doing so you can check (approximately) what the page will look like using the Render button in RStudio or VS Code if you’re using either of these for your writing.</p>
<p>Once you’re satisfied with the markdown file create a new folder in the <code>/posts</code> directory of your blog repo. Give the folder an informative name.</p>
<pre class="{console}"><code>cd posts
mkdir quarto_github_pages
cp path/to/content.qmd /posts</code></pre>
<p>Make sure you are in the top level directory of your blog (e.g.&nbsp;YOURNAME.github.io) and type</p>
<pre class="console"><code>quarto preview</code></pre>
<p>in the terminal to preview the site.</p>
<p>If it all looks good press <code>ctrl+c</code> to stop the site being served. We can send the site to the online Github repo.</p>
</section>
<section id="serving-the-blog" class="level2">
<h2 class="anchored" data-anchor-id="serving-the-blog">Serving the blog</h2>
<p>To serve the blog we have to generate html files. We can do this with the Quarto <code>render</code> command.</p>
<p>To make sure we do not screw up the <code>main</code> branch move back to the <code>adding-content</code> branch on your local machine.</p>
<pre><code>git checkout adding-content</code></pre>
<p>In the terminal run the command</p>
<pre><code>quarto render</code></pre>
<p>Thus will render the whole site and create a new _site directory.</p>
<p><code>git status</code> shows untracked <code>../../_site</code></p>
<p>Make sure that folder is tracked by git.</p>
<pre><code>git add ../../_site
git commit -m "useful m"
git push origin adding-content</code></pre>
<section id="edit-out-maybe" class="level3">
<h3 class="anchored" data-anchor-id="edit-out-maybe">EDIT OUT MAYBE</h3>
</section>
</section>
<section id="summary-of-process" class="level2">
<h2 class="anchored" data-anchor-id="summary-of-process">Summary of process</h2>
<p>The first time you do this <code>git status</code> should show the <code>docs/</code> directory as untracked and <code>posts/some_folder/some_file.qmd</code> as staged but not committed. Use <code>git add docs/</code> and then <code>git add posts/some_folder/some_file.qmd</code> to tell git to track the changes.</p>
<p>Subsequently <code>git status</code> will only show the folder that has changed or is new in the posts directory. You need to explicitly add the folder and the files inside that folder.</p>
<pre class="console"><code>git add posts/new_folder
git add .</code></pre>
<p>Use <code>git commit -m "some informative message"</code> to commit the changes.</p>
<p>Now push the repository with the new branch up to Github.</p>
<pre class="{console}"><code>git push origin adding-content</code></pre>
<p>Notice that we push to <code>adding-content</code> NOT to <code>main</code>.</p>
<p>On GitHub there should be a pull request generated to pull the changes from <code>adding-content</code> into the <code>main</code> branch. Create the pull request, give it a meaningful message (e.g.&nbsp;‘post on quarto &amp; github pages’) and then (all going well) merge the pull request into <code>main</code> following the prompts on Github.</p>
<p>You should now (well after a few minutes) be able to see your blog at <code>your_github_username.github.io</code>.</p>
<p>On your local machine move back to the <code>main</code> branch.</p>
<pre class="{console}"><code>git checkout main</code></pre>
<p>Pull the contents of the main branch on Github (which you just updated) down to the local machine.</p>
<pre class="{console}"><code>git pull origin main</code></pre>
<p>So far we have made sure that our online repo and our local directory and local branches all have the same content.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>